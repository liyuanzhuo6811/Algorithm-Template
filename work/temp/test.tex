\documentclass[12pt, a4paper]{book}
\usepackage{ctex}
\usepackage{authblk}
\usepackage{listings}
\usepackage{color}
\usepackage{geometry}
\usepackage{titlesec}

\titleformat{\chapter}
{\normalfont\Large\bfseries}{第 \thechapter 部分}{1em}{}

\titleformat{\section}
{\normalfont\Large\bfseries}{\thesection}{1em}{}

\titleformat{\subsection}
{\normalfont\large\bfseries}{\thesubsection}{1em}{}

\titleformat{\subsubsection}
{\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{}
\geometry{left=3.18cm, right=3.18cm, top=2.54cm, bottom=2.54cm}
\title{\Huge XCPC Template Library}
\author{
    Wu Honglin / real01bit \\
    Li Yuanzhuo / SnowFlavour \\
    Liu Haocheng / lotus\_grass \\
}
\date{最后一次修改：\today}
\newfontfamily\firacode{FiraCode-Regular.ttf}
\lstset{
    language=C++,
    basicstyle=\firacode,
    breaklines=true,
    keywordstyle=\bfseries\color{red},
    stringstyle=\color{green}\ttfamily,
    morekeywords={},
    emph={self},
    emphstyle=\bfseries,
    commentstyle=\itshape,
    stringstyle=\bfseries,
    columns=flexible,
    numbers=left,
    numbersep=2em,
    numberstyle=\footnotesize,
    frame=topline,
    framesep=1em
}
\begin{document}
\maketitle
\chapter{数据结构Data Structure}
\section{1111}
\subsection{ST表}
\begin{lstlisting}[language={C++}]
#include <cmath>
#include <cstdio>
#include <iostream>
using namespace std;
int n, m, a[1010000], st[1010000][200];
int main() {
    cin >> n >> m;
    for (int i = 1; i <= n; i++) scanf("%d", a + i), st[i][i] = a[i];
    for (int j = 1; 1 + (1 << j) <= n; j++)
        for (int i = 1; i + (1 << j) - 1 <= n; i++) st[i][j] = max(st[i][j - 1], st[i + (1 << j - 1)][j - 1]);
    while (m--) {
        int l, r, ans;
        scanf("%d%d", &l, &r);
        int t = log2(r - l + 1);
        ans = max(st[l][t], st[r - (1 << t) + 1][t]);
        printf("%d\n", ans);
    }
    return 0;
}
\end{lstlisting}
\section{这是一个标题的示例}
\subsection{这是一个子标题}
\begin{lstlisting}[language={C++}]
#include <iostream>
using namespace std;
int main() {
    int n;
    cin >> n;
    string s = "adsfadsf";
}
\end{lstlisting}
\end{document}